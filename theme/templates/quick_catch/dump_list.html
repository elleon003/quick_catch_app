{% extends 'base.html' %}

{% block title %}Past dumps â€“ Quick Catch{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-xl font-semibold text-primary">ðŸ“‹ Past dumps</h1>
    <a href="{% url 'quick_catch:dump' %}" class="btn btn-primary btn-sm">New dump</a>
  </div>

  {% if dumps %}
    <ul class="space-y-3">
      {% for dump in dumps %}
        <li>
          <a href="{% url 'quick_catch:result' dump_id=dump.id %}" class="block card bg-base-100 shadow border border-base-200 hover:border-primary/30 hover:shadow-md transition-all">
            <div class="card-body py-4">
              <p class="text-base-content/80 line-clamp-2">
                {{ dump.input_text|truncatewords:20 }}
              </p>
              <p class="text-sm text-base-content/60 mt-1 flex flex-wrap items-center gap-x-2 gap-y-1">
                <span>{{ dump.created_at|date:"M j, Y g:i A" }}</span>
                <span class="badge badge-sm {% if dump.energy_level == 'low' %}badge-secondary{% elif dump.energy_level == 'high' %}badge-accent{% else %}badge-primary{% endif %} badge-outline">{{ dump.energy_level|capfirst }}</span>
                <span>{{ dump.word_count|default:0 }} words</span>
              </p>
            </div>
          </a>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="rounded-xl bg-base-200/60 border border-base-300 p-6 text-center">
      <p class="text-base-content/70">No dumps yet.</p>
      <a href="{% url 'quick_catch:dump' %}" class="link link-primary font-medium mt-2 inline-block">Dump your brain</a> to get started.
    </div>
  {% endif %}
</div>
{% endblock %}
